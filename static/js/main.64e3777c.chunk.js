(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{262:function(e,t,a){},263:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(90),l=a.n(o),r=(a(97),a(18)),s=a(30),c=a(31),d=a(33),h=a(32),u=a(34),m=a(54),p=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handlePickerDisplay=function(e){a.setState({displayInsidePicker:!!e&&!a.state.displayInsidePicker,displayOutsidePicker:!e&&!a.state.displayOutsidePicker})},a.state={displayInsidePicker:!1,displayOutsidePicker:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.width,n=t.columns,o=t.rows,l=t.insideColor,r=t.outsideColor,s=t.handleColorChange,c=t.handleChange,d=t.exportToPdf;return i.a.createElement("div",{className:"drawer-container",style:{width:a}},i.a.createElement("h1",{className:"drawer-title"},"G\xe9n\xe9rateur de grilles"),i.a.createElement("div",null,i.a.createElement("div",{className:"input-container"},i.a.createElement("div",{className:"input-column"},i.a.createElement("label",{className:"label"},"Colonnes"),i.a.createElement("input",{className:"input",type:"number",value:n,onChange:c("columns")})),i.a.createElement("div",{className:"input-column"},i.a.createElement("label",{className:"label"},"Lignes"),i.a.createElement("input",{className:"input",type:"number",value:o,onChange:c("rows")}))),i.a.createElement("div",{className:"color-container"},i.a.createElement("div",{className:"color-row"},i.a.createElement("div",{className:"color-square",style:{background:r},onClick:function(){return e.handlePickerDisplay()}},i.a.createElement(m.ChromePicker,{className:"color-picker"+(this.state.displayOutsidePicker?"":" hidden"),color:r,onChangeComplete:s("outsideColor")})),i.a.createElement("label",{className:"label"},"Couleur ext\xe9rieure")),i.a.createElement("div",{className:"color-row"},i.a.createElement("div",{className:"color-square",style:{background:l},onClick:function(){return e.handlePickerDisplay(!0)}},i.a.createElement(m.ChromePicker,{className:"color-picker"+(this.state.displayInsidePicker?"":" hidden"),color:l,onChangeComplete:s("insideColor")})),i.a.createElement("label",{className:"label"},"Couleur int\xe9rieure")))),i.a.createElement("button",{onClick:d,className:"button"},"Exporter en pdf"))}}]),t}(n.Component),v=(a(262),a(91)),g=a.n(v),C=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).exportToPdf=function(){var t=new g.a;e.exportDraw();var a=document.getElementById("exportCanvas").toDataURL("image/png");t.addImage(a,"PNG",0,0,210,297),t.save("grille_a4.pdf")},e.handleChange=function(t){return function(a){a.target.value>100?e.setState(Object(r.a)({},t,100)):a.target.value<1?e.setState(Object(r.a)({},t,1)):e.setState(Object(r.a)({},t,a.target.value))}},e.handleColorChange=function(t){return function(a){e.setState(Object(r.a)({},t,a.hex))}},e.displayedScale=(window.innerHeight-40)/297,e.state={columns:3,rows:4,width:210*e.displayedScale,height:297*e.displayedScale,margin:15*e.displayedScale,insideColor:"#000",outsideColor:"#000"},e.scale=10,e.margin=15*e.scale,e.width=210*e.scale,e.height=297*e.scale,e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.draw()}},{key:"draw",value:function(){var e=this.state,t=e.rows,a=e.columns,n=e.margin,i=e.width,o=e.height,l=e.outsideColor,r=e.insideColor,s=document.getElementById("displayCanvas");if(s){var c,d,h=s.getContext("2d");h.clearRect(0,0,s.width,s.height);var u=i/2-a*(c=i/o<a/t?(i-2*n)/a:(o-2*n)/t)/2,m=o/2-t*c/2;for(h.lineWidth=2,h.beginPath(),h.strokeStyle=l,h.moveTo(u,m),h.lineTo(u,t*c+m),h.lineTo(a*c+u,t*c+m),h.lineTo(a*c+u,m),h.lineTo(u,m),h.stroke(),h.beginPath(),h.strokeStyle=r,d=1;d<a;d++)h.moveTo(d*c+u,0+m),h.lineTo(d*c+u,t*c+m);for(d=1;d<t;d++)h.moveTo(0+u,d*c+m),h.lineTo(a*c+u,d*c+m);h.stroke()}}},{key:"exportDraw",value:function(){var e,t,a=this.state,n=a.rows,i=a.columns,o=a.outsideColor,l=a.insideColor,r=document.getElementById("exportCanvas"),s=r.getContext("2d");s.clearRect(0,0,r.width,r.height),e=this.width/this.height<i/n?(this.width-2*this.margin)/i:(this.height-2*this.margin)/n;var c=this.width/2-i*e/2,d=this.height/2-n*e/2;for(s.lineWidth=4,s.beginPath(),s.strokeStyle=o,s.moveTo(c,d),s.lineTo(c,n*e+d),s.lineTo(i*e+c,n*e+d),s.lineTo(i*e+c,d),s.lineTo(c,d),s.stroke(),s.beginPath(),s.strokeStyle=l,t=1;t<i;t++)s.moveTo(t*e+c,0+d),s.lineTo(t*e+c,n*e+d);for(t=1;t<n;t++)s.moveTo(0+c,t*e+d),s.lineTo(i*e+c,t*e+d);s.stroke()}},{key:"render",value:function(){var e=this.state,t=e.columns,a=e.rows,n=e.insideColor,o=e.outsideColor;return this.draw(),i.a.createElement("div",{className:"app"},i.a.createElement(p,{width:300,columns:t,rows:a,insideColor:n,outsideColor:o,handleColorChange:this.handleColorChange,handleChange:this.handleChange,exportToPdf:this.exportToPdf}),i.a.createElement("div",{style:{marginLeft:300}},i.a.createElement("canvas",{id:"displayCanvas",className:"canvas displayed-canvas",width:210*this.displayedScale,height:297*this.displayedScale}),i.a.createElement("canvas",{id:"exportCanvas",className:"canvas",width:210*this.scale,height:297*this.scale,style:{position:"absolute",opacity:0}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},92:function(e,t,a){e.exports=a(263)},97:function(e,t,a){}},[[92,1,2]]]);
//# sourceMappingURL=main.64e3777c.chunk.js.map